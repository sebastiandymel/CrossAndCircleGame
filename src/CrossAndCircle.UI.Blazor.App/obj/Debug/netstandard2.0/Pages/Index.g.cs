#pragma checksum "C:\CODE\CrossAndCircleGame\src\CrossAndCircle.UI.Blazor.App\Pages\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "0e4dd584681e9cdd044aa0b194316afb20593366"
// <auto-generated/>
#pragma warning disable 1591
namespace CrossAndCircle.UI.Blazor.App.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Blazor;
    using Microsoft.AspNetCore.Blazor.Components;
    using System.Net.Http;
    using Microsoft.AspNetCore.Blazor.Layouts;
    using Microsoft.AspNetCore.Blazor.Routing;
    using Microsoft.JSInterop;
    using CrossAndCircle.UI.Blazor.App;
    using CrossAndCircle.UI.Blazor.App.Shared;
    using GameEngine;
    [Microsoft.AspNetCore.Blazor.Layouts.LayoutAttribute(typeof(MainLayout))]

    [Microsoft.AspNetCore.Blazor.Components.RouteAttribute("/")]
    public class Index : Microsoft.AspNetCore.Blazor.Components.BlazorComponent
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Blazor.RenderTree.RenderTreeBuilder builder)
        {
            base.BuildRenderTree(builder);
            builder.AddMarkupContent(0, "<h1>CROSS AND CIRCLE GAME</h1>\n\n<br>\n\n\n\n\n");
            builder.OpenElement(1, "div");
            builder.AddContent(2, "\n    ");
            builder.OpenElement(3, "ul");
            builder.AddContent(4, "\n        ");
            builder.OpenElement(5, "li");
            builder.AddContent(6, "\n            ");
            builder.OpenElement(7, "input");
            builder.AddAttribute(8, "type", "radio");
            builder.AddAttribute(9, "name", "mode");
            builder.AddAttribute(10, "checked", selectedMode == GameMode.Player_vs_Player);
            builder.AddAttribute(11, "onclick", Microsoft.AspNetCore.Blazor.Components.BindMethods.GetEventHandlerValue<Microsoft.AspNetCore.Blazor.UIMouseEventArgs>(() => selectedMode = GameMode.Player_vs_Player));
            builder.AddAttribute(12, "id", "a-opt");
            builder.CloseElement();
            builder.AddContent(13, "\n            ");
            builder.AddMarkupContent(14, "<label for=\"a-opt\" class=\"label\">Player vs Player</label>\n        ");
            builder.CloseElement();
            builder.AddContent(15, "\n        ");
            builder.OpenElement(16, "li");
            builder.AddContent(17, "\n            ");
            builder.OpenElement(18, "input");
            builder.AddAttribute(19, "type", "radio");
            builder.AddAttribute(20, "name", "mode");
            builder.AddAttribute(21, "checked", selectedMode == GameMode.Player_vs_Computer);
            builder.AddAttribute(22, "onclick", Microsoft.AspNetCore.Blazor.Components.BindMethods.GetEventHandlerValue<Microsoft.AspNetCore.Blazor.UIMouseEventArgs>(() => selectedMode = GameMode.Player_vs_Computer));
            builder.AddAttribute(23, "id", "a-opt");
            builder.CloseElement();
            builder.AddContent(24, "\n            ");
            builder.AddMarkupContent(25, "<label for=\"b-opt\" class=\"label\">Player vs Computer</label>\n        ");
            builder.CloseElement();
            builder.AddContent(26, "\n    ");
            builder.CloseElement();
            builder.AddContent(27, "\n    ");
            builder.OpenElement(28, "button");
            builder.AddAttribute(29, "class", "btn btn-primary");
            builder.AddAttribute(30, "onclick", Microsoft.AspNetCore.Blazor.Components.BindMethods.GetEventHandlerValue<Microsoft.AspNetCore.Blazor.UIMouseEventArgs>(StartNewGame));
            builder.AddContent(31, "Start new game");
            builder.CloseElement();
            builder.AddContent(32, "\n");
            builder.CloseElement();
            builder.AddMarkupContent(33, "\n\n\n<br><br>\n\n\n\n\n");
#line 38 "C:\CODE\CrossAndCircleGame\src\CrossAndCircle.UI.Blazor.App\Pages\Index.cshtml"
 if (game != null)
{

#line default
#line hidden
            builder.AddContent(34, "    ");
            builder.OpenElement(35, "div");
            builder.AddAttribute(36, "class", "card");
            builder.AddAttribute(37, "style", "padding:10px 10px 10px 10px");
            builder.AddContent(38, "\n        ");
            builder.OpenElement(39, "div");
            builder.AddContent(40, "\n");
#line 42 "C:\CODE\CrossAndCircleGame\src\CrossAndCircle.UI.Blazor.App\Pages\Index.cshtml"
             if (game != null && game.Current != null)
            {
                

#line default
#line hidden
#line 44 "C:\CODE\CrossAndCircleGame\src\CrossAndCircle.UI.Blazor.App\Pages\Index.cshtml"
                 for (int i = 0; i < game.Current.Rows.Length; i++)
                {
                    if (i > 0)
                    {

#line default
#line hidden
            builder.AddMarkupContent(41, "                        <br>\n");
#line 49 "C:\CODE\CrossAndCircleGame\src\CrossAndCircle.UI.Blazor.App\Pages\Index.cshtml"
                    }
                    

#line default
#line hidden
#line 50 "C:\CODE\CrossAndCircleGame\src\CrossAndCircle.UI.Blazor.App\Pages\Index.cshtml"
                     for (int j = 0; j < game.Current.Cols.Length; j++)
                    {
                        var copyi = i;
                        var copyj = j;


#line default
#line hidden
            builder.AddContent(42, "                        ");
            builder.OpenElement(43, "button");
            builder.AddAttribute(44, "onclick", Microsoft.AspNetCore.Blazor.Components.BindMethods.GetEventHandlerValue<Microsoft.AspNetCore.Blazor.UIMouseEventArgs>(() => SetPosition(copyi, copyj)));
            builder.AddAttribute(45, "class", "btn btn-secondary");
            builder.AddAttribute(46, "style", "width: 50px; height:50px; margin:5px");
            builder.AddMarkupContent(47, "\n                            \n                            \n                            \n");
#line 59 "C:\CODE\CrossAndCircleGame\src\CrossAndCircle.UI.Blazor.App\Pages\Index.cshtml"
                             if (game.Current[i, j] == GameBoard.Player.Circle)
                            {
                                if (IsWinningPosition(copyi, copyj))
                                {

#line default
#line hidden
            builder.AddContent(48, "                                    ");
            builder.AddMarkupContent(49, "<h1 style=\"font-size:40px; color:red; margin:-5px 0px 0px -4px\">O</h1>\n");
#line 64 "C:\CODE\CrossAndCircleGame\src\CrossAndCircle.UI.Blazor.App\Pages\Index.cshtml"
                                }
                                else
                                {

#line default
#line hidden
            builder.AddContent(50, "                                    ");
            builder.AddMarkupContent(51, "<h1 style=\"font-size:40px; margin:-5px 0px 0px -4px\">O</h1>\n");
#line 68 "C:\CODE\CrossAndCircleGame\src\CrossAndCircle.UI.Blazor.App\Pages\Index.cshtml"
                                }

                            }

#line default
#line hidden
            builder.AddMarkupContent(52, "                            \n                            \n                            \n");
#line 74 "C:\CODE\CrossAndCircleGame\src\CrossAndCircle.UI.Blazor.App\Pages\Index.cshtml"
                             if (game.Current[i, j] == GameBoard.Player.Cross)
                            {
                                if (IsWinningPosition(copyi, copyj))
                                {

#line default
#line hidden
            builder.AddContent(53, "                                    ");
            builder.AddMarkupContent(54, "<h1 style=\"font-size:40px; color:red; margin:-4px 0px 0px -3px\">X</h1>\n");
#line 79 "C:\CODE\CrossAndCircleGame\src\CrossAndCircle.UI.Blazor.App\Pages\Index.cshtml"
                                }
                                else
                                {

#line default
#line hidden
            builder.AddContent(55, "                                    ");
            builder.AddMarkupContent(56, "<h1 style=\"font-size:40px; margin:-4px 0px 0px -3px\">X</h1>\n");
#line 83 "C:\CODE\CrossAndCircleGame\src\CrossAndCircle.UI.Blazor.App\Pages\Index.cshtml"
                                }

                            }

#line default
#line hidden
            builder.AddContent(57, "                        ");
            builder.CloseElement();
            builder.AddContent(58, "\n");
#line 87 "C:\CODE\CrossAndCircleGame\src\CrossAndCircle.UI.Blazor.App\Pages\Index.cshtml"
                    }

#line default
#line hidden
#line 87 "C:\CODE\CrossAndCircleGame\src\CrossAndCircle.UI.Blazor.App\Pages\Index.cshtml"
                     
                }

#line default
#line hidden
#line 88 "C:\CODE\CrossAndCircleGame\src\CrossAndCircle.UI.Blazor.App\Pages\Index.cshtml"
                 
            }

#line default
#line hidden
            builder.AddContent(59, "        ");
            builder.CloseElement();
            builder.AddContent(60, "\n    ");
            builder.CloseElement();
            builder.AddContent(61, "\n");
#line 92 "C:\CODE\CrossAndCircleGame\src\CrossAndCircle.UI.Blazor.App\Pages\Index.cshtml"
}

#line default
#line hidden
            builder.AddMarkupContent(62, "\n<br>\n\n\n\n\n");
            builder.OpenElement(63, "div");
            builder.AddContent(64, "\n");
#line 100 "C:\CODE\CrossAndCircleGame\src\CrossAndCircle.UI.Blazor.App\Pages\Index.cshtml"
     if (circleWinsGame)
    {

#line default
#line hidden
            builder.AddContent(65, "        ");
            builder.AddMarkupContent(66, "<h2>Congratulations! Circle wins the game! :)</h2>\n");
#line 103 "C:\CODE\CrossAndCircleGame\src\CrossAndCircle.UI.Blazor.App\Pages\Index.cshtml"
    }

#line default
#line hidden
            builder.AddContent(67, "    ");
#line 104 "C:\CODE\CrossAndCircleGame\src\CrossAndCircle.UI.Blazor.App\Pages\Index.cshtml"
     if (crossWinsGame)
    {

#line default
#line hidden
            builder.AddContent(68, "        ");
            builder.AddMarkupContent(69, "<h2>Congratulations! Cross wins the game! :)</h2>\n");
#line 107 "C:\CODE\CrossAndCircleGame\src\CrossAndCircle.UI.Blazor.App\Pages\Index.cshtml"
    }

#line default
#line hidden
            builder.AddContent(70, "    ");
#line 108 "C:\CODE\CrossAndCircleGame\src\CrossAndCircle.UI.Blazor.App\Pages\Index.cshtml"
     if (gameEndsWithoutWinner)
    {

#line default
#line hidden
            builder.AddContent(71, "        ");
            builder.AddMarkupContent(72, "<h2>Tie! There is no winner :(</h2>\n");
#line 111 "C:\CODE\CrossAndCircleGame\src\CrossAndCircle.UI.Blazor.App\Pages\Index.cshtml"
    }

#line default
#line hidden
            builder.CloseElement();
        }
        #pragma warning restore 1998
#line 118 "C:\CODE\CrossAndCircleGame\src\CrossAndCircle.UI.Blazor.App\Pages\Index.cshtml"
            

private WebGame game;
private GameBoard.Player p1Id = GameBoard.Player.Circle;
private GameBoard.Player p2Id = GameBoard.Player.Cross;
private bool circleWinsGame;
private bool crossWinsGame;
private bool gameEndsWithoutWinner;
private List<GameMode> modes = new List<GameMode> { GameMode.Player_vs_Computer, GameMode.Player_vs_Player };
private GameMode selectedMode;

private void StartNewGame()
{
    CreateGame();
    if (this.selectedMode == GameMode.Player_vs_Computer)
    {
        this.game.Start(p1Id);
    }
    else if (this.selectedMode == GameMode.Player_vs_Player)
    {
        this.game.Start(p1Id, p2Id);
    }
    ClearFlags();
}
private void CreateGame()
{
    if (this.game == null)
    {
        this.game = new WebGame();
        this.game.StateChanged += OnStateChanged;
    }
}
private void ClearFlags()
{
    this.circleWinsGame = false;
    this.crossWinsGame = false;
    this.gameEndsWithoutWinner = false;
}
private void OnStateChanged(object sender, EventArgs ea)
{
    if (this.game.EndStatus.HasValue && this.game.EndStatus.Value == EndStatus.CircleWins)
    {
        circleWinsGame = true;
    }
    if (this.game.EndStatus.HasValue && this.game.EndStatus.Value == EndStatus.CrossWins)
    {
        crossWinsGame = true;
    }
    if (this.game.EndStatus.HasValue && this.game.EndStatus.Value == EndStatus.Draw)
    {
        gameEndsWithoutWinner = true;
    }
}
void SetPosition(int i, int j)
{
    this.game.Move(i, j);
}
private bool IsWinningPosition(int x, int y)
{
    return this.game.WinningPositions.Any(w => w.X == x && w.Y == y);
}

internal enum GameMode
{
    Player_vs_Computer,
    Player_vs_Player,
}

#line default
#line hidden
    }
}
#pragma warning restore 1591
